<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Luxorin | Luxury Watches</title>
<meta name="description" content="Luxorin offers luxury stainless steel watches that are affordable, water-resistant and built to last.">

<!-- Firebase SDK -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
import { getStorage, ref as sRef, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-storage.js";

const firebaseConfig = {
  apiKey: "AIzaSyCglSrG-DoIaA-mJOG3ek6Uo9-DGkvR3TE",
  authDomain: "luxorin-reviews.firebaseapp.com",
  databaseURL: "https://luxorin-reviews-default-rtdb.firebaseio.com",
  projectId: "luxorin-reviews",
  storageBucket: "luxorin-reviews.appspot.com",
  messagingSenderId: "435983248839",
  appId: "1:435983248839:web:0b9928de0ed348232fbde2"
};

const app = initializeApp(firebaseConfig);
const database = getDatabase(app);
const storage = getStorage(app);

// Save review
window.saveReview = async function(){
  const name = document.getElementById('name').value.trim();
  const rating = document.getElementById('rating').value.trim();
  const text = document.getElementById('review').value.trim();
  const file = document.getElementById('photo').files[0];
  const btn = document.querySelector('.review-form button');

  if(!name || !rating || !text){
    alert('Please fill all fields.');
    return;
  }

  btn.disabled = true;
  btn.innerText = 'Submitting...';

  try {
    let photoURL = '';
    if(file){
      const storageRef = sRef(storage,'review_photos/'+Date.now()+'_'+file.name);
      await new Promise((resolve,reject)=>{
        const uploadTask = uploadBytesResumable(storageRef,file);
        uploadTask.on('state_changed', null,
          error => reject(error),
          () => getDownloadURL(uploadTask.snapshot.ref).then(url=>{photoURL=url; resolve();})
        );
      });
    }

    const newRef = push(ref(database,'reviews'));
    await set(newRef,{name,rating,text,photo:photoURL});
    loadReviews();

    document.getElementById('name').value='';
    document.getElementById('rating').value='';
    document.getElementById('review').value='';
    document.getElementById('photo').value='';
    alert('Thank you! Your review has been added.');
  } catch(err){
    alert('Error submitting review: '+err.message);
  } finally {
    btn.disabled=false;
    btn.innerText='Submit Review';
  }
};

// Load reviews for everyone
window.loadReviews = function(){
  const reviewsDiv = document.querySelector('.reviews');
  reviewsDiv.innerHTML = '';
  const reviewsRef = ref(database,'reviews');
  onValue(reviewsRef,(snapshot)=>{
    reviewsDiv.innerHTML = '';
    snapshot.forEach(child=>{
      const data = child.val();
      const div = document.createElement('div');
      div.classList.add('review');
      div.innerHTML = `
        <div class="name">${data.name}</div>
        <div class="rating">${data.rating} ★</div>
        <p>${data.text}</p>
        ${data.photo ? `<img src="${data.photo}" style="max-width:120px;border-radius:8px;margin-top:5px;">` : ''}
      `;
      reviewsDiv.appendChild(div);
    });
  });
};
</script>

<style>
body{margin:0;font-family:'Poppins',Arial,sans-serif;background:linear-gradient(135deg,#1b1b1b,#3a2b0f,#0b0b0b,#2c1e0c);background-size:400% 400%;animation:gradientMove 15s ease infinite;color:#fff;}
@keyframes gradientMove{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
.hero{text-align:center;padding:70px 20px 40px;}
.hero img.logo{width:450px;height:auto;margin-bottom:25px;}
.hero h1{font-size:26px;color:#f5d97c;margin-bottom:10px;}
.hero p{max-width:720px;margin:auto;font-size:18px;color:#e0d7b1;font-weight:500;}
.buttons{margin-top:20px;}
.buttons a{text-decoration:none;padding:16px 36px;border-radius:8px;margin:6px;display:inline-block;font-weight:600;}
.secondary{background:#fff;color:#111;border:1px solid #ddd;}
.section{padding:60px 20px;max-width:1100px;margin:auto;}
.product{text-align:center;}
.product h2{font-size:38px;margin-bottom:15px;color:#f5d97c;}
.price{margin:15px 0 20px;font-size:30px;}
.old-price{text-decoration:line-through;color:#ccc;font-size:18px;margin-left:10px;}
.gallery{display:flex;gap:15px;justify-content:center;flex-wrap:wrap;}
.gallery img{width:220px;height:260px;object-fit:contain;background:#111;border-radius:12px;cursor:pointer;}
.whatsapp{display:inline-block;margin-top:25px;background:#d6c29b;color:#111;padding:16px 34px;border-radius:50px;text-decoration:none;font-weight:600;transition:0.2s;}
.whatsapp:hover{background:#f5d97c;}
.reviews{margin-top:50px;}
.review{background:rgba(0,0,0,0.6);padding:15px 20px;border-radius:10px;margin-bottom:15px;display:flex;flex-direction:column;align-items:flex-start;}
.review .name{font-weight:bold;color:#f5d97c;margin-bottom:5px;}
.review .rating{font-weight:bold;color:#f5d97c;margin-bottom:5px;}
.review-form{background:rgba(0,0,0,0.6);padding:20px;border-radius:12px;margin-top:30px;text-align:left;}
.review-form input,.review-form textarea{width:100%;padding:12px;margin-bottom:15px;border-radius:8px;border:none;font-size:14px;}
.review-form label{font-weight:bold;margin-bottom:5px;display:block;}
.review-form button{background:#f5d97c;color:#111;border:none;padding:12px 25px;border-radius:50px;font-weight:600;cursor:pointer;}
.about{background:linear-gradient(to right,#1c1c1c,#3c2b0f,#111);padding:60px 20px;text-align:center;}
.about h2{font-size:30px;margin-bottom:20px;color:#f5d97c;}
.about p{max-width:800px;margin:auto;color:#e0d7b1;font-size:16px;line-height:1.7;}
footer{background:#000;padding:25px;text-align:center;font-size:14px;color:#777;}
@media(max-width:600px){.hero img.logo{width:300px;}.hero h1{font-size:22px;}.gallery img{width:160px;height:200px;}}
</style>
</head>

<body onload="loadReviews()">

<section class="hero">
  <img src="logo2.png" class="logo" alt="Luxorin Logo">
  <h1>Luxorin Luxury Watches</h1>
  <p>Turn heads everywhere you go – Pablo Raez, crafted for style and precision.</p>
  <div class="buttons">
    <a href="#learn-more" class="secondary">Learn More</a>
  </div>
</section>

<section class="section product">
  <h2>Pablo Raez Watch</h2>
  <div class="price">R 825 <span class="old-price">R 1,200</span></div>
  <div class="gallery">
    <img src="watch.png" class="product-img">
    <img src="side.png" class="product-img">
    <img src="back.png" class="product-img">
    <img src="opp.png" class="product-img">
  </div>
  <a href="https://wa.me/27816065263" class="whatsapp">Order on WhatsApp</a>

  <div class="reviews"></div>

  <div class="review-form">
    <h3>Add Your Review</h3>
    <label>Name</label>
    <input type="text" id="name" placeholder="Your name">
    <label>Rating (1-5)</label>
    <input type="number" id="rating" min="1" max="5" placeholder="4.5">
    <label>Review</label>
    <textarea id="review" placeholder="Write your review here..."></textarea>
    <label>Upload Photo</label>
    <input type="file" id="photo">
    <button onclick="saveReview()">Submit Review</button>
  </div>
</section>

<section id="learn-more" class="about">
  <h2>About Luxorin</h2>
  <p>Luxorin is more than a watch brand – it's a lifestyle. Each Pablo Raez watch is meticulously crafted from premium stainless steel, water-resistant and timeless.</p>
  <p>Our mission is to make luxury accessible while delivering unmatched elegance, style, and confidence. Every detail is designed to impress, ensuring you wear not just a watch, but a statement.</p>
  <p>Future collections will continue to innovate, blending timeless style with quality, making Luxorin a brand people trust and desire.</p>
  <div style="margin-top:30px;">
    <a href="https://wa.me/27816065263" class="whatsapp">Order Yours Now</a>
  </div>
</section>

<footer>
  &copy; 2026 Luxorin. All Rights Reserved.
</footer>

</body>
  </html>
